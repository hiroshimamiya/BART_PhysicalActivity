#### BART_physicalActivity

This repository contsins script for the paper    
_Application of Bayesian Additive Regression Tree (BART) on accelerometer data generated by wearable devices, with the aim to classify physical activity type and intensity._ 

Raw accelerometor data are found in
  `https://doi.org/10.7910/DVN/LXVZRC`
  
Processing (standardization of data to 30Hz, removal of corrupt signals and participants with failed measurements , and generation of predictive features) is done by the script `DataPrep_andDescription_5sec.R`. 
Resulting training and test data are found in the weblink above, along with the raw data. 

BART and random forest were fit and tested by the script
`BART_BatchCode.R`

And resulting classification performance was generated by 
`summary_BART_RF.Rmd`

These scripts use functions stores in `functions/`

The scripts are run in Unix machine with a multicore capacity. So, if not using parallel processing, good to replace `mclapply` ith `lappy`. 

If performing leaven-one-out cross-valiadtion, `BART_BatchCode.R` needs to be run 37 times, corresponding to 37 test data from 37 participants. This can be automated with SLURM program in high-performance computational environment - see script in `BART_job_test_argTest_looCV_array.sh` that executes the `BART_BatchCode.R` as many times as the length of the `#SBATCH --array=`, which takes integer array from whose elements are $1 ... 37$.  If running in a personal computer, the script `BART_BatchCode.R` can take arguments manually (see comments in the script) rather than agurmnets for SLURM's sbatch command.







